# 数据结构课程设计

## 项目简介

​		此课程管理系统利用数据结构中二叉树，单链表等基础知识对学生，课程进行组织并操作。项目分为对课程操作和对学生操作两个部分。

​		在对课程操作的部分中，可以实现课程的增加、删除、修改、查询、输出增加学生以及课程统计的功能，其中删除课程之后表示该课程已经不存在，则要对应删除所有学生信息中的该门课程。

​		在对学生操作的部分中，实现了对学生的信息添加、删除、修改以及成绩修改、信息查询等功能。其中的添加、修改、删除功能的操作同步到课程树中，即修改学生信息之后对应的课程中的学生信息也要同时修改。

## 数据结构设计

### 学生

#### 单独存储

学生独立存储时用单链表实现，单链表节点结构如下所示： 

![独立存储结构](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\1559465634224.png)

独立存储时的数据结构：

```c
typedef struct grade {//课程成绩节点，用于学生信息单独保存时存储成绩
 char course_name[50];//课程名
 int g;//成绩
};
typedef struct student {//独立保存时的学生节点
 int s_id;//学号
 char s_name[50];//学生姓名
 int c_num;
 grade g[10];//指向保存这名学生所选课程信息的线性表
 struct student *next;//指向下一名学生
}student,*s_link;
```

#### 与课程联合存储

连接课程存储时学生信息用单链表实现，节点结构如下图：

![与课程联合存储时的节点结构](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\1559465902513.png)

​	连接课程存储时学生信息的数据结构：

```c
typedef struct stu_c { //与课程联合存储时的学生节点，
 int s_id;               //学号
 char s_name[50]; //姓名
 int g;                           //该门课程的成绩
 struct stu_c *next;     //指向下一个选修这门课程的学生
}stu_c,*stu_c_link;
```

### 课程

课程的存储用二叉排序树实现，存储结构如下图：

![课程存储结构设计](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\1559466220109.png)

课程存储的数据结构：

```c
typedef struct course {	//课程信息节点
	int course_id;		//课程代码
	char course_name[50];//课程名称
	float credit;//课程学分
	int stu_num;//选课人数
	struct course *lc, *rc;
	stu_c_link link;//指向选修这门课程的学生
}course,*bt_course;

```

## 功能设计

### 功能分析

- 课程管理部分  

  a.   课程增加：输入课程代码、课程名称、学分之后将课程按照课程代码的大小组成排序树，输入时有学分的检查，范围应该为（0，10]，输入不对则重新输入。课程添加完成之后可以选择是否继续为该课程添加学生，如不添加学生则可以继续添加新的课程或进行其他操作。

  b.   课程删除：课程删除对应为二叉排序树节点的删除，当用户输入要删除的课程代码之后按照代码删除对应的课程节点，同时在学生单独存储的结构中删掉所有学生该门课程的成绩。

  c.   课程修改：根据用户输入的课程代码在排序树中进行二分搜索，找到对应的节点之后修改对应的信息。

  d.   课程查询：根据用户输入的课程代码在排序树中进行二分查找，找到对应的节点之后输出该节点的内容以及与之相连的学生链表的所有学生信息。

  e.   课程输出：分别中序，后序输出保存课程信息的二叉排序树。

  f.   所有课程信息输出：即遍历二叉排序树的每一个节点，同时在每一个节点之后输出这门课程的所有学生信息。

  g.   学生增加：即对需要增加学生的课程中保存学生信息的链表添加对应的学生信息节点，添加时按照学号进行从小到大的排序。

  h.   课程统计：输出所有的课程及所有课程的平均成绩。

- 学生管理部分

  a.   学生添加：输入学号、姓名之后按照学号进行从小到大的排序将学生节点插入到链表中。插入完成之后用户可以选择是否继续为该学生添加成绩，注意添加成绩时只能添加已有课程的成绩，且不能重复添加同一门课程。

  b.   学生删除：分为按照学号删除和按照姓名删除。在删除学生信息中对应的内容时同时删除掉课程二叉树中所有有关该学生的内容。

  c.   学生信息/成绩修改：分为按照学号和按照姓名修改。在学生信息中修改掉对应内容的同时对课程二叉树中有关该学生的内容要同时修改，保持信息的一致性。

  d.   学生信息查询/输出：学生信息查询时可以根据学生学号、姓名分别查询，查询结束输出对应学生信息。学生信息输出则是输出所有学生的基本信息以及该学生的课程信息

  

  

### 功能设计

- 课程增加

  ~~~Flowchart
  st=>start:开始
  e=>end: 添加结束
  op1=>operation: 输入课程信息
  cond=>condition: 确认输入情况，是否添加
  cond1=>condition: 课程添加成功，是否添加学生
  op2=>operation: 输入学生信息，可循环添加，输入0 0 0结束
  
  st->op1->cond
  cond(yes)->cond1
  cond(no)->op1
  cond1(yes)->op2
  cond1(no)->e
  op2->e
  ```
  ~~~

  

- 课程查询/输出

- 对课程增加学生

- 课程修改

- 课程删除

- 学生添加

- 学生删除/修改/查询/输出

  
